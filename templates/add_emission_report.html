{% extends "base.html" %}

{% block content %}
<div class="login-container">
    <h2>Add Emission Report</h2>
    <form method="post">

        <label for="business_or_facility">Select Business/Facility:</label>
        <select id="business_or_facility" name="business_or_facility">
            {% for business in businesses_or_facilities %}
                <option value="{{ business.id }}">{{ business.name }}</option>
            {% endfor %}
        </select>        

        <label for="total_emissions">Total Emissions:</label>
        <input type="text" id="total_emissions" name="total_emissions" required>

        <label for="co2_emissions_solar">CO2 Emissions from Solar PV:</label>
        <input type="text" id="co2_emissions_solar" name="co2_emissions_solar" required>

        <label for="cost_savings">Cost Savings:</label>
        <input type="text" id="cost_savings" name="cost_savings" required>

        <label for="reporting_period">Reporting Period:</label>
        <select id="reporting_period" name="reporting_period">
            {% for period in reporting_periods %}
                <option value="{{ period.id }}">{{ period.start_month }} {{ period.start_year }} - {{ period.end_month }} {{ period.end_year }}</option>
            {% endfor %}
        </select>
        
        <button class="btn" type="submit">Add Emission Report</button>
    </form>

    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <p>An emission report for this business in the selected reporting period already exists!</p>
        </div>
    </div>
</form>
</div>
{% if show_error_modal %}
<div class="show-error-modal"></div>
{% endif %}
{% endblock %}